<html>
	<head>
		<link rel="icon" type="image/bmp" href="favicon.bmp" />
		<meta charset="UTF-8" />
		<script src="lib/jquery-3.6.0.min.js"></script>
		<script src="js/api.js"></script>
		<script src="js/base64.min.js"></script>
		<link rel="stylesheet" href="css/all.css" />
		<title>zyc2024的聊天网页主页</title>
	</head>
	<body>
		<div style="font-size: x-large; text-align: center">
			<h1>主页</h1>
			<h3 id="titlee">Loading...</h3>
			<h4>
				你可以在<a
					href="https://github.com/zyc-2024/chat/releases/latest"
					>Github</a
				>或者<a
					href="https://gitee.com/zyc-2024/chat-realease/releases/latest"
					>Gitee</a
				>上下载到应用版！
			</h4>
			<h4>
				如果有任何情况的bug，请到<a
					href="https://github.com/zyc-2024/chat/issues/new"
					>这里</a
				>去反馈！
			</h4>
		</div>
		<div style="display: flex; height: 60vh">
			<!-- Left side: Channel list -->
			<div
				id="channel-list"
				style="
					width: 48%;
					border-right: 1px solid #ccc;
					padding: 16px;
					overflow-y: auto;
					text-align: center;
				">
				<h2>创建新频道</h2>
				<input type="text" id="ch" placeholder="频道名称" />
				<button
					onclick="javascript:window.location.href='create.html?type=u&ch='+document.getElementById('ch').value">
					确定
				</button>
				<h2>频道列表</h2>
				<ul
					id="channels"
					style="list-style: none; padding: 0; margin: 0"></ul>
			</div>
			<div style="flex: 1; padding: 16px">
				<!-- 右半边内容 -->
				<h2>不公开的，适合自己用</h2>
				<br />
				<div id="id"></div>
				<br />
				<input type="text" id="key" placeholder="一串字符，作为凭证" />
				<button
					onclick="javascript:window.location.href='create.html?type=r&key='+document.getElementById('key').value">
					创建
				</button>
				<br />
				<br />
				<br />
				<input type="text" id="iddd" placeholder="生成的id" />

				<input type="text" id="keyyy" placeholder="你输入的凭证" />
				<button
					onclick="javascript:window.location.href='core.html?type=r&id=' +document.getElementById('iddd').value + '&key=' + document.getElementById('keyyy').value">
					创建
				</button>
			</div>
		</div>
		<script>
			//Generated by AI
			function renderChannels() {
				read("public/index.json").then(function (data) {
					var channels = data.ch || [];
					var ul = document.getElementById("channels");
					ul.innerHTML = "";
					channels.forEach(function (channel) {
						var link = document.createElement("a");
						link.textContent = channel;
						link.href = "core.html?type=u&ch=" + channel;
						link.style.padding = "8px 0";
						ul.appendChild(link);
						ul.appendChild(document.createElement("br"));
					});
				});
			}
			renderChannels();
		</script>
		<footer></footer>
	</body>
</html>
